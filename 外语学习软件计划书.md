# 外语学习软件计划书

[toc]

## 计划

- [x] 设计功能，包括各语言收录内容设定，考核方式设定

- [x] 划分任务，设计代码大致框架，即需要哪些类，分别负责什么大体的功能

- [ ] 设计各个类的功能对应的具体的函数

- [ ] 设计各个窗口的简化界面

- [ ] 代码实现初版程序，调试问题

- [ ] 界面优化，设计更精良的界面

- [ ] 修改界面代码

- [ ] 书写相关文件，文档

## 任务

### 功能设计

各语言分别设计，包括英语，日语，俄语

主要功能包括，词库收集，搜索，考核

词库储存的内容包括，单词，释义，词性，各个变形，词缀，近义反义词，例句

采用以单词及释义为核心，附加各属性的形式，且需要一定的可发展性，来应对当前部分语言的语法学习不完全的问题

考核，形式包括考察释义，考察听力，考察拼写，考察变形

考察释义和听力采用单词选意和听力选意，尽量采用同词性，否则采用全随机

拼写采用释义拼写，提供随机例句，同时考察变形

此外，考核需要统计单词的记忆程度，自动规划每天需要记忆的单词

#### 考核时间设定

- 暂行方案

给单词分配得分参数，得分越高，越优先记忆，同时需要加速度参数，考核正确时降低，错误时升高

具体计算方法为：

需要考核单词时，按照单词得分参数$S$从大到小排序，选取前$N$个单词进行考核

每次单词背诵后，向得分参数$S$加上加速度参数$a$作为新的得分参数$S$

考核时，每个单词如果错误了$n$次，则相应单词的加速度参数$a$加上$2^{n-1}$，然后，统计没有出错的单词数量，平均得减小其$a$，使得加速度参数变化量总和为$0$，该步是为了保证得分参数均值不变，防止数据溢出。

同时保留手动指定单词记忆良好的功能。

#### 英语内容

名词，包括复数，不可数

动词，包括第三人称单数，现在分词，过去式，过去分词

形容词和副词，包括部分相互转换，比较级和最高级

#### 日语内容

名词

动词，包括五段，一段，特殊动词，自动词和他动词，原形和变形

#### 俄语内容

名词形容词的性，数，格，动词时态等

## 功能划分

### 窗口控件设计

主窗口下可切换，后两个为单词窗口和考核窗口，第一个包含搜索窗口和下方面板，同时面板可切换为搜索结果窗口

窗口控件包括：主窗口，搜索栏，面板，搜索结果窗口，单词窗口，考核窗口

### 类设计

单词类，负责记录单词，词库类，负责收集单词及各种功能

### 功能分配

各窗口分别执行各自的功能，主窗口负责窗口调动，并负责词库收集等各种词库相关功能，具体功能由词库类实现

## 类设计

### 主窗口

成员变量包括，词库，单词权重优先队列

成员函数包括，主窗口切换，面板搜索切换，

链接，（面板，考核，主窗口切换），（考核窗口，考核结束，主窗口切换）

### 搜索栏

成员函数包括，搜索单词列表

### 面板

成员变量包含考核数据

成员函数包含修改考核数据

信号包括，考核（考核类型参数）

### 搜索结果窗口

成员变量包括，单词列表

成员函数包括，显示单词列表

信号包括，查看单词（单词参数）

### 单词窗口

成员函数包括，显示或修改的单词，模式切换

成员函数包括，设置模式（显示和修改），设置单词，显示单词，保存修改的单词

连接，（搜索结果窗口，查看单词信号，设置模式（显示）和设置单词和显示单词）

信号包括，返回，保存返回

### 考核窗口

成员函数包括，考核词库vector，考核分数vector

成员函数包括，设置考核类型，设置考核数量，读取考核列表（从主窗口，按随机排列），启动考核（显示考核题目，统计考核得分），计算考核结果（计算新权重），储存考核单词

链接，（面板，考核，设置考核类型和数量以及读取考核列表再启动考核）

信号包括，考核结束

### 单词类

成员变量包括，单词，map属性表，从属性名称映射到属性值

成员函数包括查看与修改与添加属性，以及转化为储存字符串信息

重载比较，以单词字典序

### 词库类

成员变量包括map映射单词到记忆权重

成员函数包括添加，编辑，删除单词