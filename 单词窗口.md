# 单词窗口

## 界面

最上方固定高度菜单栏，左居中分别是返回和编辑或保存

下方滚动窗口主页面，宽度与主窗口一致，高度可变，主页面显示若干行，第一行为单词，下面分三列为属性，分别是属性名，属性值，删除按钮，最下面一行左侧为属性名，右侧两列合并为添加属性按钮

显示模式不显示最下面一行及最右侧一列，且各属性不可编辑，点击返回按钮即返回，删除此处存储的单词，点击编辑按钮切换到编辑模式

编辑模式完全显示，已存在的属性名不可编辑，其余可编辑，在添加属性按钮前输入新添加的属性，点击添加属性即将此属性名固定，添加一行显示，新行属性值可编辑，点击返回按钮则不保存返回，点击保存按钮则保存并切换为显示模式

## 成员变量

- 编辑模式，bool
- 单词，Word\*
- 单词拷贝，Word\*
- 显示窗口列表，QVector\<QLineEdit\*\>
- 按钮列表，QVector<QPushButton*>
- 删除属性列表，QVector\<QString\>

## 成员函数

### 公有

- 设置单词

赋值单词，按照编辑模式是与否决定单词拷贝进行与否，调用创造单词界面

- 设置编辑模式

设置变量编辑模式，调用设置单词界面

### 私有

- 创造单词界面

创建基本单词界面，不包含属性，连接添加按钮信号到添加属性函数，调用添加属性函数添加属性，调用设置单词界面

- 设置单词界面

按照编辑模式设置QLineEdit只读性，删除按钮可见性和最后一行可见性

- 删除单词界面

删除单词，属性等控件

- 添加属性（属性名，属性值）

按照名，值添加属性，连接删除按钮信号到删除属性函数

- 删除属性（属性编号）

删除属性相应控件，记录删除项目

## 信号

- 保存（原单词字符串，新单词地址）

令主窗口添加或更改单词

## 构造函数连接

- 返回按钮按下时

调用删除单词界面，删除单词拷贝

- 编辑或保存按钮按下时

若是显示模式切换为编辑模式，调用设置编辑模式，拷贝单词

若是编辑模式切换为显示模式，设置拷贝单词名，然后先根据删除属性列表删除拷贝的属性，再循环读取当前属性值并给拷贝设置，然后发送保存信号，调用设置编辑模式，删除单词拷贝